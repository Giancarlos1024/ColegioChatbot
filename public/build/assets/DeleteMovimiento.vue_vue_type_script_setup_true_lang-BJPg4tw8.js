import{d as y,aa as g,r as k,B,e as C,a as d,w as c,g as r,c as w,j as N,i as p,t as V,b as v,f as l,a2 as E}from"./app-CSI2DTQR.js";import{s as M}from"./index-Bd5u6C13.js";import{s as u}from"./index-CIJ9kEDP.js";const D={class:"flex items-center gap-4"},h={key:0},$=y({__name:"DeleteMovimiento",props:{visible:{type:Boolean},movimiento:{}},emits:["update:visible","deleted"],setup(f,{emit:b}){const o=f,n=b,m=g(),s=k(!1);B(()=>o.visible,i=>s.value=i);function a(){n("update:visible",!1)}async function x(){if(o.movimiento)try{await E.delete(`/movimiento/${o.movimiento.id}`),n("deleted"),a(),m.add({severity:"success",summary:"Éxito",detail:"Movimiento eliminado correctamente",life:3e3})}catch(i){console.error(i);let e="Error eliminando el movimiento";const t=i;t.response&&(e=t.response.data.message||e),m.add({severity:"error",summary:"Error",detail:e,life:3e3})}}return(i,e)=>(d(),C(l(M),{visible:s.value,"onUpdate:visible":[e[0]||(e[0]=t=>s.value=t),a],style:{width:"90%",maxWidth:"450px"},header:"Confirmar",modal:!0},{footer:c(()=>[v(l(u),{label:"No",icon:"pi pi-times",text:"",onClick:a}),v(l(u),{label:"Sí",icon:"pi pi-check",onClick:x})]),default:c(()=>[r("div",D,[e[3]||(e[3]=r("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1)),i.movimiento?(d(),w("span",h,[e[1]||(e[1]=p(" ¿Estás seguro de eliminar el movimiento ",-1)),r("b",null,V(i.movimiento.id),1),e[2]||(e[2]=p("? ",-1))])):N("",!0)])]),_:1},8,["visible"]))}});export{$ as _};
