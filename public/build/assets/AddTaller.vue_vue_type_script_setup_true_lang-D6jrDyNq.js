import{d as F,aa as S,r as f,c as n,a as u,F as $,b as t,f as i,w as b,g as a,j as d,i as w,t as r,a2 as q}from"./app-CSI2DTQR.js";import{s as E}from"./index-Bd5u6C13.js";import{s as R}from"./index-C_q0UAfk.js";import{s as _}from"./index-CIJ9kEDP.js";import{s as m}from"./index-DWx6GgBR.js";import{s as V}from"./index-FxFNUawP.js";import{b as D}from"./index-CqE_d7Eh.js";import{s as g}from"./index-Bd8tXdo1.js";const z={class:"grid grid-cols-12 gap-4"},B={class:"col-span-12 md:col-span-8"},O={key:0,class:"text-red-500"},H={key:1,class:"text-red-500"},I={class:"col-span-12 md:col-span-4"},j={key:0,class:"text-red-500"},A={class:"col-span-12 md:col-span-6"},G={key:0,class:"text-red-500"},L={class:"col-span-12 md:col-span-6"},M={key:0,class:"text-red-500"},W={class:"col-span-12"},J={key:0,class:"text-red-500"},K={class:"col-span-12 md:col-span-6"},P={key:0,class:"text-red-500"},Q={class:"col-span-12 md:col-span-6"},X={key:0,class:"text-red-500"},Y={class:"col-span-12 md:col-span-4"},Z={key:0,class:"text-red-500"},ll={class:"col-span-12"},el={class:"col-span-12"},al={class:"col-span-12"},cl=F({__name:"AddTaller",emits:["taller-agregado"],setup(ol,{emit:h}){const k=S(),v=f(!1),c=f(!1),s=f({}),e=f({nombre:"",turno:"",hora_inicio:"",hora_fin:"",sede:"",fecha_inicio:null,fecha_fin:null,capacidad_alumnos:null,descripcion:"",requisitos:"",temario:"",estado:"disponible"}),T=[{label:"Mañana",value:"mañana"},{label:"Tarde",value:"tarde"}],U=h;function y(){e.value={nombre:"",turno:"",hora_inicio:"",hora_fin:"",sede:"",fecha_inicio:null,fecha_fin:null,capacidad_alumnos:null,descripcion:"",requisitos:"",temario:"",estado:"disponible"},s.value={},v.value=!1}function N(){y(),c.value=!0}function x(){c.value=!1,y()}async function C(){v.value=!0,s.value={};try{const p={...e.value,fecha_inicio:e.value.fecha_inicio?e.value.fecha_inicio.toISOString().split("T")[0]:null,fecha_fin:e.value.fecha_fin?e.value.fecha_fin.toISOString().split("T")[0]:null,capacidad_alumnos:e.value.capacidad_alumnos?Number(e.value.capacidad_alumnos):null};await q.post("/taller",p),k.add({severity:"success",summary:"Éxito",detail:"Taller registrado",life:3e3}),x(),U("taller-agregado")}catch(p){const l=p;l.response&&l.response.status===422?s.value=l.response.data.errors:k.add({severity:"error",summary:"Error",detail:"No se pudo registrar el taller",life:3e3})}}return(p,l)=>(u(),n($,null,[t(i(R),{class:"mb-6"},{start:b(()=>[t(i(_),{label:"Nuevo Taller",icon:"pi pi-plus",class:"mr-2",onClick:N})]),_:1}),t(i(E),{visible:c.value,"onUpdate:visible":l[11]||(l[11]=o=>c.value=o),style:{width:"95vw",maxWidth:"750px"},header:"Registro de Taller",modal:!0},{footer:b(()=>[t(i(_),{label:"Cancelar",icon:"pi pi-times",text:"",onClick:x}),t(i(_),{label:"Guardar",icon:"pi pi-check",onClick:C})]),default:b(()=>[a("div",z,[a("div",B,[l[12]||(l[12]=a("label",{class:"font-bold mb-2 block"},[w("Nombre "),a("span",{class:"text-red-500"},"*")],-1)),t(i(m),{modelValue:e.value.nombre,"onUpdate:modelValue":l[0]||(l[0]=o=>e.value.nombre=o),class:"w-full"},null,8,["modelValue"]),v.value&&!e.value.nombre?(u(),n("small",O,"El nombre es obligatorio.")):d("",!0),s.value.nombre?(u(),n("small",H,r(s.value.nombre[0]),1)):d("",!0)]),a("div",I,[l[13]||(l[13]=a("label",{class:"font-bold mb-2 block"},[w("Turno "),a("span",{class:"text-red-500"},"*")],-1)),t(i(D),{modelValue:e.value.turno,"onUpdate:modelValue":l[1]||(l[1]=o=>e.value.turno=o),options:T,optionLabel:"label",optionValue:"value",class:"w-full"},null,8,["modelValue"]),s.value.turno?(u(),n("small",j,r(s.value.turno[0]),1)):d("",!0)]),a("div",A,[l[14]||(l[14]=a("label",{class:"font-bold mb-2 block"},"Hora inicio *",-1)),t(i(m),{type:"time",modelValue:e.value.hora_inicio,"onUpdate:modelValue":l[2]||(l[2]=o=>e.value.hora_inicio=o),class:"w-full"},null,8,["modelValue"]),s.value.hora_inicio?(u(),n("small",G,r(s.value.hora_inicio[0]),1)):d("",!0)]),a("div",L,[l[15]||(l[15]=a("label",{class:"font-bold mb-2 block"},"Hora fin *",-1)),t(i(m),{type:"time",modelValue:e.value.hora_fin,"onUpdate:modelValue":l[3]||(l[3]=o=>e.value.hora_fin=o),class:"w-full"},null,8,["modelValue"]),s.value.hora_fin?(u(),n("small",M,r(s.value.hora_fin[0]),1)):d("",!0)]),a("div",W,[l[16]||(l[16]=a("label",{class:"font-bold mb-2 block"},"Sede *",-1)),t(i(m),{modelValue:e.value.sede,"onUpdate:modelValue":l[4]||(l[4]=o=>e.value.sede=o),class:"w-full"},null,8,["modelValue"]),s.value.sede?(u(),n("small",J,r(s.value.sede[0]),1)):d("",!0)]),a("div",K,[l[17]||(l[17]=a("label",{class:"font-bold mb-2 block"},"Fecha inicio *",-1)),t(i(g),{modelValue:e.value.fecha_inicio,"onUpdate:modelValue":l[5]||(l[5]=o=>e.value.fecha_inicio=o),dateFormat:"yy-mm-dd",class:"w-full"},null,8,["modelValue"]),s.value.fecha_inicio?(u(),n("small",P,r(s.value.fecha_inicio[0]),1)):d("",!0)]),a("div",Q,[l[18]||(l[18]=a("label",{class:"font-bold mb-2 block"},"Fecha fin *",-1)),t(i(g),{modelValue:e.value.fecha_fin,"onUpdate:modelValue":l[6]||(l[6]=o=>e.value.fecha_fin=o),dateFormat:"yy-mm-dd",class:"w-full"},null,8,["modelValue"]),s.value.fecha_fin?(u(),n("small",X,r(s.value.fecha_fin[0]),1)):d("",!0)]),a("div",Y,[l[19]||(l[19]=a("label",{class:"font-bold mb-2 block"},"Capacidad *",-1)),t(i(m),{type:"number",modelValue:e.value.capacidad_alumnos,"onUpdate:modelValue":l[7]||(l[7]=o=>e.value.capacidad_alumnos=o),class:"w-full"},null,8,["modelValue"]),s.value.capacidad_alumnos?(u(),n("small",Z,r(s.value.capacidad_alumnos[0]),1)):d("",!0)]),a("div",ll,[l[20]||(l[20]=a("label",{class:"font-bold mb-2 block"},"Descripción",-1)),t(i(V),{modelValue:e.value.descripcion,"onUpdate:modelValue":l[8]||(l[8]=o=>e.value.descripcion=o),rows:"3",class:"w-full",autoResize:""},null,8,["modelValue"])]),a("div",el,[l[21]||(l[21]=a("label",{class:"font-bold mb-2 block"},"Requisitos",-1)),t(i(V),{modelValue:e.value.requisitos,"onUpdate:modelValue":l[9]||(l[9]=o=>e.value.requisitos=o),rows:"3",class:"w-full",autoResize:""},null,8,["modelValue"])]),a("div",al,[l[22]||(l[22]=a("label",{class:"font-bold mb-2 block"},"Temario",-1)),t(i(V),{modelValue:e.value.temario,"onUpdate:modelValue":l[10]||(l[10]=o=>e.value.temario=o),rows:"5",class:"w-full",autoResize:""},null,8,["modelValue"])])])]),_:1},8,["visible"])],64))}});export{cl as _};
