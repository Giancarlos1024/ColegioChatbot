import{d as C,aa as w,r as u,c as i,a as d,F as $,b as s,f as l,w as c,g as t,j as y,i as x,t as E,a2 as k}from"./app-CSI2DTQR.js";import{s as B}from"./index-Bd5u6C13.js";import{s as D}from"./index-C_q0UAfk.js";import{s as f}from"./index-CIJ9kEDP.js";import{s as I}from"./index-DWx6GgBR.js";import{s as U}from"./index-BsSS1dRr.js";import{s as A}from"./index-DTrYfW8t.js";import F from"./toolsEmployeeType-DXPXesnT.js";const S={class:"flex flex-col gap-6"},j={class:"grid grid-cols-12 gap-4"},q={class:"col-span-9"},G={key:0,class:"text-red-500"},M={key:1,class:"text-red-500"},R={key:2,class:"text-red-500"},W={class:"col-span-3"},z={class:"flex items-center gap-3"},H={key:0,class:"text-red-500"},J={key:1,class:"text-red-500"},ae=C({__name:"AddTipoEmpleado",emits:["tipo-empleado-agregado"],setup(K,{emit:h}){const v=w(),n=u(!1),p=u(!1),r=u({}),e=u({name:"",state:!0}),g=h,V=async()=>{try{const o=await k.get("/tipos_empleados");console.log(o.data),g("tipo-empleado-agregado")}catch(o){v.add({severity:"error",summary:"Error",detail:"No se pudo cargar los tipos de empleado",life:3e3}),console.error(o)}};function b(){e.value={name:"",state:!0},r.value={},n.value=!1}function N(){b(),p.value=!0}function _(){p.value=!1,b()}function T(){n.value=!0,r.value={},k.post("/tipo_empleado",e.value).then(()=>{v.add({severity:"success",summary:"Ã‰xito",detail:"Tipo de empleado registrado",life:3e3}),_(),g("tipo-empleado-agregado")}).catch(o=>{o.response&&o.response.status===422?r.value=o.response.data.errors||{}:v.add({severity:"error",summary:"Error",detail:"No se pudo registrar el tipo de empleado",life:3e3})})}return(o,a)=>(d(),i($,null,[s(l(D),{class:"mb-6"},{start:c(()=>[s(l(f),{label:"Nuevo tipo de empleado",icon:"pi pi-plus",severity:"secondary",class:"mr-2",onClick:N})]),end:c(()=>[s(F,{onImportSuccess:V})]),_:1}),s(l(B),{visible:p.value,"onUpdate:visible":a[2]||(a[2]=m=>p.value=m),style:{width:"90%",maxWidth:"600px"},header:"Registro de tipo de empleado",modal:!0},{footer:c(()=>[s(l(f),{label:"Cancelar",icon:"pi pi-times",text:"",onClick:_}),s(l(f),{label:"Guardar",icon:"pi pi-check",onClick:T})]),default:c(()=>[t("div",S,[t("div",j,[t("div",q,[a[3]||(a[3]=t("label",{for:"name",class:"block font-bold mb-3"},[x("Nombre "),t("span",{class:"text-red-500"},"*")],-1)),s(l(I),{id:"name",modelValue:e.value.name,"onUpdate:modelValue":a[0]||(a[0]=m=>e.value.name=m),modelModifiers:{trim:!0},required:"",maxlength:"100",fluid:""},null,8,["modelValue"]),n.value&&!e.value.name?(d(),i("small",G,"El nombre es obligatorio.")):n.value&&e.value.name&&e.value.name.length<2?(d(),i("small",M," El nombre debe tener al menos 2 caracteres. ")):r.value.name?(d(),i("small",R,E(r.value.name[0]),1)):y("",!0)]),t("div",W,[a[4]||(a[4]=t("label",{for:"state",class:"block font-bold mb-2"},[x("Estado "),t("span",{class:"text-red-500"},"*")],-1)),t("div",z,[s(l(U),{modelValue:e.value.state,"onUpdate:modelValue":a[1]||(a[1]=m=>e.value.state=m),binary:!0,inputId:"state"},null,8,["modelValue"]),s(l(A),{value:e.value.state?"Activo":"Inactivo",severity:e.value.state?"success":"danger"},null,8,["value","severity"]),n.value&&e.value.state===null?(d(),i("small",H,"El estado es obligatorio.")):r.value.state?(d(),i("small",J,E(r.value.state[0]),1)):y("",!0)])])])])]),_:1},8,["visible"])],64))}});export{ae as _};
