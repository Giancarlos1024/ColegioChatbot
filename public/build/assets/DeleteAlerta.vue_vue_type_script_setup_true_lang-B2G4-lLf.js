import{d as y,aa as g,r as k,B,e as C,a as m,w as c,g as l,c as w,j as N,i as p,t as V,b as u,f as o,a2 as E}from"./app-CSI2DTQR.js";import{s as A}from"./index-Bd5u6C13.js";import{s as f}from"./index-CIJ9kEDP.js";const D={class:"flex items-center gap-4"},h={key:0},$=y({__name:"DeleteAlerta",props:{visible:{type:Boolean},alerta:{}},emits:["update:visible","deleted"],setup(v,{emit:b}){const s=v,n=b,d=g(),r=k(!1);B(()=>s.visible,a=>r.value=a);function i(){n("update:visible",!1)}async function x(){if(s.alerta)try{await E.delete(`/alerta/${s.alerta.id}`),n("deleted"),i(),d.add({severity:"success",summary:"Éxito",detail:"Alerta eliminada correctamente",life:3e3})}catch(a){console.error(a);let e="Error eliminando la alerta";const t=a;t.response&&(e=t.response.data.message||e),d.add({severity:"error",summary:"Error",detail:e,life:3e3})}}return(a,e)=>(m(),C(o(A),{visible:r.value,"onUpdate:visible":[e[0]||(e[0]=t=>r.value=t),i],style:{width:"90%",maxWidth:"450px"},header:"Confirmar",modal:!0},{footer:c(()=>[u(o(f),{label:"No",icon:"pi pi-times",text:"",onClick:i}),u(o(f),{label:"Sí",icon:"pi pi-check",onClick:x})]),default:c(()=>[l("div",D,[e[3]||(e[3]=l("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1)),a.alerta?(m(),w("span",h,[e[1]||(e[1]=p(" ¿Estás seguro de eliminar la alerta ",-1)),l("b",null,V(a.alerta.id),1),e[2]||(e[2]=p("? ",-1))])):N("",!0)])]),_:1},8,["visible"]))}});export{$ as _};
