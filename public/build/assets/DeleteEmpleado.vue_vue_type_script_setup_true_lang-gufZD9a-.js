import{d as k,aa as E,r as B,B as w,e as C,a as l,w as c,g as r,c as u,i as f,t as N,b,f as n,a2 as V}from"./app-CSI2DTQR.js";import{s as _}from"./index-Bd5u6C13.js";import{s as v}from"./index-CIJ9kEDP.js";const h={class:"flex items-center gap-4"},D={key:0},S={key:1},U=k({__name:"DeleteEmpleado",props:{visible:{type:Boolean},empleado:{}},emits:["update:visible","deleted"],setup(x,{emit:y}){const o=x,d=y,p=E(),t=B(!1);w(()=>o.visible,a=>{t.value=a});function i(){d("update:visible",!1)}async function g(){var a;if(o.empleado)try{await V.delete(`/empleado/${o.empleado.id}`),d("deleted"),i(),p.add({severity:"success",summary:"Éxito",detail:"Empleado eliminado correctamente",life:3e3})}catch(e){console.error(e);let s="Error eliminando el empleado";const m=e;m.response&&(s=((a=m.response.data)==null?void 0:a.message)||s),p.add({severity:"error",summary:"Error",detail:s,life:3e3})}}return(a,e)=>(l(),C(n(_),{visible:t.value,"onUpdate:visible":[e[0]||(e[0]=s=>t.value=s),i],style:{width:"90%",maxWidth:"450px"},header:"Confirmar",modal:!0},{footer:c(()=>[b(n(v),{label:"No",icon:"pi pi-times",text:"",onClick:i}),b(n(v),{label:"Sí",icon:"pi pi-check",onClick:g})]),default:c(()=>[r("div",h,[e[3]||(e[3]=r("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1)),a.empleado?(l(),u("span",D,[e[1]||(e[1]=f(" ¿Estás seguro de eliminar al empleado ",-1)),r("b",null,N(a.empleado.name),1),e[2]||(e[2]=f("? ",-1))])):(l(),u("span",S,"Empleado no disponible"))])]),_:1},8,["visible"]))}});export{U as _};
