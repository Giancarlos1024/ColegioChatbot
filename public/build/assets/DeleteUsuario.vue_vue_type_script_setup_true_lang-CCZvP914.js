import{d as k,aa as E,r as B,B as C,e as w,a as u,w as p,g as l,c as N,j as V,i as m,t as U,b as f,f as n,a2 as x}from"./app-CSI2DTQR.js";import{s as _}from"./index-Bd5u6C13.js";import{s as v}from"./index-CIJ9kEDP.js";const D={class:"flex items-center gap-4"},h={key:0},A=k({__name:"DeleteUsuario",props:{visible:{type:Boolean},product:{}},emits:["update:visible","deleted"],setup(b,{emit:y}){const s=b,d=y,c=E(),r=B(!1);C(()=>s.visible,t=>{r.value=t});function a(){d("update:visible",!1)}async function g(){var t,e;if(s.product)try{await x.delete(`/usuarios/${s.product.id}`),d("deleted"),a(),c.add({severity:"success",summary:"Éxito",detail:"Usuario eliminado correctamente",life:3e3})}catch(o){console.error(o);let i="Error eliminando el usuario";x.isAxiosError(o)&&(i=((e=(t=o.response)==null?void 0:t.data)==null?void 0:e.message)||i),c.add({severity:"error",summary:"Error",detail:i,life:3e3})}}return(t,e)=>(u(),w(n(_),{visible:r.value,"onUpdate:visible":[e[0]||(e[0]=o=>r.value=o),a],style:{width:"90%",maxWidth:"450px"},header:"Confirmar",modal:!0},{footer:p(()=>[f(n(v),{label:"No",icon:"pi pi-times",text:"",onClick:a}),f(n(v),{label:"Sí",icon:"pi pi-check",onClick:g})]),default:p(()=>[l("div",D,[e[3]||(e[3]=l("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1)),s.product?(u(),N("span",h,[e[1]||(e[1]=m(" ¿Estás seguro de eliminar al Usuario ",-1)),l("b",null,U(s.product.name),1),e[2]||(e[2]=m("? ",-1))])):V("",!0)])]),_:1},8,["visible"]))}});export{A as _};
