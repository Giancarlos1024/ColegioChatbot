import{d as k,aa as B,r as C,B as w,e as N,a as p,w as u,g as a,c as V,j as E,i as f,t as _,b as v,f as l,a2 as D}from"./app-CSI2DTQR.js";import{s as h}from"./index-Bd5u6C13.js";import{s as x}from"./index-CIJ9kEDP.js";const R={class:"flex items-center gap-4"},S={key:0},M=k({__name:"DeleteRoles",props:{visible:{type:Boolean},rol:{}},emits:["update:visible","deleted"],setup(b,{emit:y}){const t=b,n=y,d=B(),o=C(t.visible);w(()=>t.visible,s=>{o.value=s});function r(){n("update:visible",!1)}async function g(){var s,e;if(t.rol)try{await D.delete(`/rol/${t.rol.id}`),n("deleted"),r(),d.add({severity:"success",summary:"Éxito",detail:"Rol eliminado correctamente",life:3e3})}catch(i){console.error(i);let m="Error eliminando el rol";const c=i;(e=(s=c.response)==null?void 0:s.data)!=null&&e.message&&(m=c.response.data.message),d.add({severity:"error",summary:"Error",detail:m,life:3e3})}}return(s,e)=>(p(),N(l(h),{visible:o.value,"onUpdate:visible":[e[0]||(e[0]=i=>o.value=i),r],style:{width:"90%",maxWidth:"450px"},header:"Confirmar eliminación",modal:!0},{footer:u(()=>[v(l(x),{label:"No",icon:"pi pi-times",text:"",onClick:r}),v(l(x),{label:"Sí",icon:"pi pi-check",severity:"danger",text:"",onClick:g})]),default:u(()=>[a("div",R,[e[3]||(e[3]=a("i",{class:"pi pi-exclamation-triangle text-3xl text-red-500"},null,-1)),t.rol?(p(),V("span",S,[e[1]||(e[1]=f(" ¿Estás seguro de eliminar el rol ",-1)),a("b",null,_(t.rol.name),1),e[2]||(e[2]=f("? ",-1))])):E("",!0)])]),_:1},8,["visible"]))}});export{M as _};
