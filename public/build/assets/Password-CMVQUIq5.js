import{d as v,r as b,a3 as y,c as m,a,b as t,g as o,f as e,h as C,a0 as V,e as f,j as l,t as d,w as p,i as w,F as E,k as S}from"./app-CSI2DTQR.js";import{_ as F}from"./FloatingConfigurator.vue_vue_type_script_setup_true_lang-Dx_dBgGy.js";import{s as M}from"./index-CIJ9kEDP.js";import{s as x}from"./index-saBHE4wW.js";import{s as _}from"./index-gZGFXwbj.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppConfigurator.vue_vue_type_script_setup_true_lang-DpDyjPj6.js";import"./index-D_KOsQEr.js";import"./index-DWx6GgBR.js";import"./index-BwbBMxE1.js";const B={class:"bg-surface-50 dark:bg-surface-950 flex items-center justify-center min-h-screen w-full px-4 sm:px-6"},P={class:"flex flex-col items-center justify-center w-full max-w-md"},j={class:"w-full bg-surface-0 dark:bg-surface-900 rounded-3xl shadow-lg py-10 px-6 sm:py-14 sm:px-12"},z={key:0,class:"text-red-600 text-sm font-medium"},A={key:0,class:"text-red-600 text-sm font-medium"},U={key:0,class:"text-red-600 text-sm font-medium"},$=v({__name:"Password",setup(D){const u=b(!1),i=b(""),s=y({current_password:"",password:"",password_confirmation:""}),g=()=>{console.log("Estado del formulario:",{values:{current_password:s.current_password?"****":"",password:s.password?"****":"",password_confirmation:s.password_confirmation?"****":""},processing:s.processing,errors:s.errors})},k=()=>{if(u.value=!0,i.value="",!s.current_password||!s.password||!s.password_confirmation){console.error("Formulario incompleto");return}if(s.password!==s.password_confirmation){i.value="Las contraseñas no coinciden";return}console.log("Enviando formulario..."),s.put(route("password.update"),{preserveScroll:!0,onSuccess:()=>{console.log("Contraseña actualizada con éxito"),s.reset(),S.get(route("dashboard"))},onError:c=>{console.error("Errores en el formulario:",c),c.password&&s.reset("password","password_confirmation"),c.current_password&&s.reset("current_password")}})};return(c,r)=>(a(),m(E,null,[t(F),t(e(C),{title:"Password"}),o("div",B,[o("div",P,[o("div",j,[r[7]||(r[7]=o("div",{class:"text-center mb-8"},[o("h1",{class:"text-surface-900 dark:text-surface-0 text-2xl sm:text-3xl font-semibold mb-2"}," Actualizar Contraseña "),o("p",{class:"text-muted-color text-sm sm:text-base"}," Asegúrate de usar una contraseña segura y difícil de adivinar. ")],-1)),o("form",{onSubmit:V(k,["prevent"]),class:"space-y-6"},[o("div",null,[r[3]||(r[3]=o("label",{for:"current_password",class:"block text-surface-900 dark:text-surface-0 text-base sm:text-lg font-medium mb-1"}," Contraseña Actual ",-1)),t(e(x),{id:"current_password",modelValue:e(s).current_password,"onUpdate:modelValue":r[0]||(r[0]=n=>e(s).current_password=n),class:"w-full",toggleMask:"",inputClass:"w-full",feedback:!1},null,8,["modelValue"]),e(s).errors.current_password||u.value&&!e(s).current_password?(a(),m("small",z,d(e(s).errors.current_password||"Este campo es obligatorio"),1)):l("",!0),e(s).errors.current_password?(a(),f(e(_),{key:1,severity:"error",closable:!1,class:"mt-2 text-sm"},{default:p(()=>[w(d(e(s).errors.current_password),1)]),_:1})):l("",!0)]),o("div",null,[r[4]||(r[4]=o("label",{for:"password",class:"block text-surface-900 dark:text-surface-0 font-medium text-base sm:text-lg mb-1"}," Nueva Contraseña ",-1)),t(e(x),{id:"password",modelValue:e(s).password,"onUpdate:modelValue":r[1]||(r[1]=n=>e(s).password=n),toggleMask:"",class:"w-full",inputClass:"w-full"},null,8,["modelValue"]),e(s).errors.password||u.value&&!e(s).password?(a(),m("small",A,d(e(s).errors.password||"Este campo es obligatorio"),1)):l("",!0)]),o("div",null,[r[5]||(r[5]=o("label",{for:"password_confirmation",class:"block text-surface-900 dark:text-surface-0 font-medium text-base sm:text-lg mb-1"}," Confirmar Contraseña ",-1)),t(e(x),{id:"password_confirmation",modelValue:e(s).password_confirmation,"onUpdate:modelValue":r[2]||(r[2]=n=>e(s).password_confirmation=n),toggleMask:"",class:"w-full",inputClass:"w-full",feedback:!1},null,8,["modelValue"]),e(s).errors.password_confirmation||u.value&&!e(s).password_confirmation?(a(),m("small",U,d(e(s).errors.password_confirmation||"Este campo es obligatorio"),1)):l("",!0)]),i.value?(a(),f(e(_),{key:0,severity:"error",closable:!1,class:"mb-4 w-full text-sm"},{default:p(()=>[w(d(i.value),1)]),_:1})):l("",!0),t(e(M),{type:"submit",label:"Guardar Contraseña",class:"w-full",loading:e(s).processing,onClick:g},null,8,["loading"]),e(s).recentlySuccessful?(a(),f(e(_),{key:1,severity:"success",closable:!1,life:3e3,class:"w-full text-sm"},{default:p(()=>[...r[6]||(r[6]=[w(" ¡Contraseña actualizada! ",-1)])]),_:1})):l("",!0)],32)])])])],64))}}),R=N($,[["__scopeId","data-v-185c9995"]]);export{R as default};
