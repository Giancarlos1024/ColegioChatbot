import{d as h,r as m,a3 as V,c as a,a as o,b as l,w as u,g as e,j as d,e as f,f as s,i as w,t as v,ae as I,a0 as P}from"./app-CSI2DTQR.js";import{s as g}from"./index-DWx6GgBR.js";import{s as y}from"./index-CIJ9kEDP.js";import{s as x}from"./index-gZGFXwbj.js";import{s as j}from"./index-AfABolHN.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-D_KOsQEr.js";const N={class:"space-y-6"},z={class:"flex items-center justify-between"},E={key:0,class:"flex gap-2"},S={key:1,class:"flex gap-2"},L={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-4"},M={key:1,class:"space-y-6"},T={class:"field"},U={class:"field"},q={class:"field"},A={key:0,class:"p-3 rounded-md"},$={key:0,class:"text-green-700 bg-green-50 border border-green-200 rounded-md p-2 text-sm"},R={key:1,class:"text-red-700 bg-red-50 border border-red-200 rounded-md p-2 text-sm"},D={key:0,class:"mt-4 p-3 bg-green-50 border border-green-200 rounded-md"},F=h({__name:"PasswordPerdil",setup(G){const i=m(!1),r=V({current_password:"",password:"",password_confirmation:""}),p=m(null),_=m(null),k=()=>{r.reset(),i.value=!0,setTimeout(()=>{var c;(c=p.value)==null||c.focus()},100)},C=()=>{r.reset(),i.value=!1},b=()=>{r.put(route("password.updateProfile"),{preserveScroll:!0,onSuccess:()=>{r.reset(),i.value=!1},onError:c=>{var t,n;c.password&&(r.reset("password","password_confirmation"),(t=_.value)==null||t.focus()),c.current_password&&(r.reset("current_password"),(n=p.value)==null||n.focus())}})};return(c,t)=>(o(),a("div",N,[l(s(j),null,{title:u(()=>[e("div",z,[t[3]||(t[3]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])]),e("div",null,[e("h2",{class:"text-xl font-bold"},"Seguridad de Cuenta"),e("p",{class:"text-sm text-gray-600"},"Gestiona tu contraseña")])],-1)),i.value?(o(),a("div",S,[l(s(y),{label:"Cancelar",icon:"pi pi-times",onClick:C,severity:"secondary",outlined:""}),l(s(y),{label:"Actualizar",icon:"pi pi-check",onClick:b,loading:s(r).processing,severity:"success"},null,8,["loading"])])):(o(),a("div",E,[l(s(y),{label:"Editar Contraseña",icon:"pi pi-pencil",onClick:k,severity:"primary"})]))])]),content:u(()=>[e("form",{onSubmit:P(b,["prevent"]),class:"space-y-6"},[i.value?d("",!0):(o(),a("div",L,[...t[4]||(t[4]=[e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])]),e("div",null,[e("h3",{class:"font-medium text-green-800"},"Contraseña Configurada"),e("p",{class:"text-sm text-green-700"},"Tu cuenta está protegida con una contraseña segura")])],-1),e("div",{class:"mt-3 pt-3 border-t border-green-200"},[e("p",{class:"text-sm text-green-700"},[e("strong",null,"Recomendaciones de seguridad:")]),e("ul",{class:"text-sm text-green-600 mt-2 space-y-1"},[e("li",null,"• Usa al menos 8 caracteres"),e("li",null,"• Combina letras, números y símbolos"),e("li",null,"• No uses información personal")])],-1)])])),i.value?(o(),a("div",M,[t[8]||(t[8]=e("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.268 16.5c-.77.833.192 2.5 1.732 2.5z"})]),e("h3",{class:"font-medium text-yellow-800"},"Actualizar Contraseña")]),e("p",{class:"text-sm text-yellow-700 mt-1"}," Ingresa tu contraseña actual y define una nueva contraseña segura ")],-1)),e("div",T,[t[5]||(t[5]=e("label",{for:"current_password",class:"block text-sm font-medium text-gray-700 mb-1"}," Contraseña Actual * ",-1)),l(s(g),{id:"current_password",ref_key:"currentPasswordInput",ref:p,modelValue:s(r).current_password,"onUpdate:modelValue":t[0]||(t[0]=n=>s(r).current_password=n),type:"password",autocomplete:"current-password",placeholder:"Ingresa tu contraseña actual",class:"w-full",required:""},null,8,["modelValue"]),s(r).errors.current_password?(o(),f(s(x),{key:0,severity:"error",class:"mt-1"},{default:u(()=>[w(v(s(r).errors.current_password),1)]),_:1})):d("",!0)]),e("div",U,[t[6]||(t[6]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"}," Nueva Contraseña * ",-1)),l(s(g),{id:"password",ref_key:"passwordInput",ref:_,modelValue:s(r).password,"onUpdate:modelValue":t[1]||(t[1]=n=>s(r).password=n),type:"password",autocomplete:"new-password",placeholder:"Ingresa una nueva contraseña",class:"w-full",required:""},null,8,["modelValue"]),s(r).errors.password?(o(),f(s(x),{key:0,severity:"error",class:"mt-1"},{default:u(()=>[w(v(s(r).errors.password),1)]),_:1})):d("",!0)]),e("div",q,[t[7]||(t[7]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 mb-1"}," Confirmar Nueva Contraseña * ",-1)),l(s(g),{id:"password_confirmation",modelValue:s(r).password_confirmation,"onUpdate:modelValue":t[2]||(t[2]=n=>s(r).password_confirmation=n),type:"password",autocomplete:"new-password",placeholder:"Repite la nueva contraseña",class:"w-full",required:""},null,8,["modelValue"]),s(r).errors.password_confirmation?(o(),f(s(x),{key:0,severity:"error",class:"mt-1"},{default:u(()=>[w(v(s(r).errors.password_confirmation),1)]),_:1})):d("",!0)]),s(r).password&&s(r).password_confirmation?(o(),a("div",A,[s(r).password===s(r).password_confirmation?(o(),a("div",$," ✓ Las contraseñas coinciden ")):(o(),a("div",R," ⚠ Las contraseñas no coinciden "))])):d("",!0)])):d("",!0),l(I,{"enter-active-class":"transition-opacity duration-300","enter-from-class":"opacity-0","leave-active-class":"transition-opacity duration-300","leave-to-class":"opacity-0"},{default:u(()=>[s(r).recentlySuccessful?(o(),a("div",D,[...t[9]||(t[9]=[e("p",{class:"text-green-800 font-medium"}," ✓ Contraseña actualizada exitosamente ",-1)])])):d("",!0)]),_:1})],32)]),_:1})]))}}),Y=B(F,[["__scopeId","data-v-fe6104e8"]]);export{Y as default};
